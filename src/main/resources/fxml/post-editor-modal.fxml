<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<VBox xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.campasian.controller.PostEditorModalController"
      styleClass="modal-root"
      stylesheets="@../styles/post-editor.css"
      prefWidth="560" spacing="0"
      maxWidth="Infinity" maxHeight="Infinity">

    <!-- ── Modal Header ── -->
    <HBox styleClass="modal-header" alignment="CENTER_LEFT" spacing="10">
        <Label text="⊞" styleClass="modal-header-icon"/>
        <VBox spacing="1" HBox.hgrow="ALWAYS">
            <Label text="Create a Post" styleClass="modal-title"/>
            <Label text="Share an update, question, or idea with your campus." styleClass="modal-subtitle" wrapText="true"/>
        </VBox>
    </HBox>

    <Separator styleClass="post-divider"/>

    <!-- ── Body ── -->
    <VBox styleClass="post-body" spacing="16" VBox.vgrow="ALWAYS">
        <padding>
            <Insets top="20" right="24" bottom="20" left="24"/>
        </padding>

        <!-- Author hint row -->
        <HBox spacing="12" alignment="CENTER_LEFT">
            <StackPane styleClass="post-avatar-circle">
                <Label text="◉" styleClass="post-avatar-icon"/>
            </StackPane>
            <VBox spacing="2">
                <Label text="Posting as You" styleClass="post-author-label"/>
                <HBox spacing="6" alignment="CENTER_LEFT">
                    <Label text="⬡" styleClass="post-scope-icon"/>
                    <Label text="Visible to all students" styleClass="post-scope-label"/>
                </HBox>
            </VBox>
        </HBox>

        <!-- Text area -->
        <TextArea fx:id="contentArea"
                  styleClass="post-textarea"
                  promptText="What's on your mind? Share a post, question, or proposal…"
                  wrapText="true"
                  prefRowCount="8"
                  VBox.vgrow="ALWAYS"/>

        <!-- Attach image row -->
        <HBox spacing="10" alignment="CENTER_LEFT" styleClass="post-attach-row">
            <Button fx:id="attachImageBtn"
                    text="⊕  Add Image"
                    styleClass="post-attach-btn"
                    onAction="#onAttachImage"/>
            <Label fx:id="imageLabel" text="" styleClass="post-attach-label"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Label text="JPG, PNG · Max 5 MB" styleClass="post-attach-hint"/>
        </HBox>
    </VBox>

    <Separator styleClass="post-divider"/>

    <!-- ── Footer ── -->
    <HBox styleClass="post-footer" spacing="10" alignment="CENTER_RIGHT">
        <Label text="Be kind and respectful ·" styleClass="post-footer-tip"/>
        <Label text="Community Guidelines" styleClass="post-footer-link"/>
        <Region HBox.hgrow="ALWAYS"/>
        <Button text="Cancel" styleClass="btn-ghost" onAction="#onCancelClick"/>
        <Button text="⊞  Publish Post" styleClass="btn-primary" onAction="#onPostClick"/>
    </HBox>

</VBox>
